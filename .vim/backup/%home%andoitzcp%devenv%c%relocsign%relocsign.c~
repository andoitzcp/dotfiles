#include<unistd.h>
#include<stdlib.h>
#include<fcntl.h>

char    *ft_swap(char *c1, char *c2)
{
    while (c1 < c2)
    {
        *c2 = *(c2 -1);
        c2--;
    }
    *c1 = '-';
    return (c1);
}

void ft_relocsign(char *bfr)
{
    char    *ptr;

    while (*bfr)
    {
        ptr = bfr;
        while ((*ptr != ',' && *ptr != '\n') && *ptr)
            ptr++;
        ptr--;
        if (*ptr == '-')
            bfr = ft_swap(bfr, ptr);
        while (bfr <= ptr + 1)
        {
            write (1, bfr, 1);
            bfr++;
        }
    }
}

int main(int argc, char *argv[])
{
    int     fd;
    ssize_t rb;
    char    *bfr;

    if (argc != 2)
        return (1);
    bfr = calloc(1, sizeof(char) * 100000000 + 1);
    if (!bfr)
        return(1);
    fd = open(argv[1], 'r');
    rb = read(fd, bfr, 100000000);
    if (rb < 0)
        return(1);
    ft_relocsign(bfr);
    free(bfr);
    close(fd);
}
